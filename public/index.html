<!doctype html>
<html>
<head>
  <title>Impulse-client-v3</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <meta http-equiv="Content-Security-Policy" content="script-src 'unsafe-inline' 'none';">
</head>
<div id="firebase SDK">
  <script>
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "firebase/app";
    import { getAnalytics } from "firebase/analytics";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyCwyTt7cXQyyXs03kpFnQKQ5HnTnUBCHs8",
      authDomain: "impulse-client-v3.firebaseapp.com",
      projectId: "impulse-client-v3",
      storageBucket: "impulse-client-v3.appspot.com",
      messagingSenderId: "826423526939",
      appId: "1:826423526939:web:19ccd7dbd9f5f395f45abe",
      measurementId: "G-KMN60MZ69C"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
  </script>
</div>
<body>
  <style>
    /* Terminal-like style for console output */
  #console {
    font-family: monospace;
    white-space: pre;
    color: #f3b646;
    background-color: #000;
    border: 1px solid #333;
    padding: 10px;
    height: 200px;
    width: 1900px;
  }
  </style>
<h1>Impulse-client-v3 connected to http://php.localhost:3000</h1>
<form>
  <label for="url">Enter URL:</label><br>
  <input type="text" id="url" name="url"><br>
  <input type="button" id="go" value="Go">
</form>
<br>
<div id="result"></div>
<br>
<h2>console output:</h2>
<pre id="console"></pre>

<script>
  $(document).ready(function() {
    $("#go").click(function() {
      var messages = [
        "Initializing jQuery...",
        "Parsing PHP...",
        "Compiling JavaScript...",
        "Installing & Updating CoffeeScript...",
        "Running & Compiling CocoBuild.Coffee...",
        "Downloading & Parsing pear.php.net packages...",
        "Checking for XSS exploits...",
        "Writing Request To MySQL...",
        "Your Almost There..."
      ];
      var i = 0;
      var interval = setInterval(function() {
        console.log(messages[i]);
        i++;
        if (i >= messages.length) {
          clearInterval(interval);
          $.ajax({
            url: "https://cors-anywhere.herokuapp.com/" + $("#url").val(),
            headers: {
              "origin": "https://example.com",
              "x-requested-with": "XMLHttpRequest"
            },
            success: function(response) {
              console.log("URL loaded successfully!");
              console.info("HTTP GET request sent to " + this.url);
              $("#console").html(response);
            },
            error: function(xhr, status, error) {
              console.error("An error occurred: " + error);
              console.warn("Status code: " + status);
              console.dir(xhr);
            },
            complete: function() {
              console.log("Done!");
            }
          });
        }
      }, 10000);
    });
  });
    // display console output in the "console" pre element
    (function() {
      var oldLog = console.log;
      console.log = function() {
        var args = Array.from(arguments);
        oldLog.apply(console, args);
        $("#console").append(args.join(" ") + "\n");
      }
    })();
</script>
</body>
</html>
